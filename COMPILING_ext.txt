=== Compiling 64-bit PolarSSL with -fPIC ===

PolarSSL is needed by libcurl to download stuff from SSL-secured sites.

Get the polarSSL 1.3.7 from their website.
Get cmake: sudo apt-get install cmake

Add the line to the CMakeLists.txt, after the compiler checks part:

 set(CMAKE_POSITION_INDEPENDENT_CODE ON) 

Then build the library:

 cmake .
 make
 sudo make install

This will place libpolarssl.a in your /usr/local/lib folder. Copy it to linux/polarssl/lib64/

=== Compiling the static libcurl library ===

==== Building the static 32-bit library libcurl ====

Download the libcurl 7.39 source package, and extract it on your system, then run the following commands:

 env CFLAGS="-m32" LDFLAGS="-m32" ./configure --disable-ldap --build=i686-unknown-linux-gnu --without-ssl --with-polarssl --without-libidn --without-zlib --prefix=/home/greebo/curl_install_x86
 make jobs=8
 sudo make install

The library is then located in /home/greebo/curl_install_x86/lib/libcurl.a.
Copy that to darkmod_src/linux/libcurl/

==== Building the static 64-bit library libcurl ====

 Download the libcurl 7.39 source package, and extract it on your system, then run the following commands:

 env CFLAGS="-m64 -fPIC" LDFLAGS="-m64" ./configure --disable-ldap --build=i686-unknown-linux-gnu --without-ssl --with-polarssl --without-libidn --without-zlib --prefix=/home/greebo/curl_install_x64
 make jobs=8
 make install

The library is then located in /home/greebo/curl_install_x64/lib/libcurl.a.
Copy that to darkmod_src/linux/libcurl/lib64/

== Compiling on OSX ==

The XCode projects are out of date at the moment and will need fixing.

=== Building libcurl in Mac OS X ===

Download the libcurl 7.21 source package, and extract it on your system. To produce a so-called "fat" binary you need to
compile for both i386 and ppc targets.

Build the i386 target by entering:

 env CFLAGS="-m32 -arch i386" LDFLAGS="-m32 -arch i386" ./configure --disable-ldap --build=i686-unknown-linux-gnu --without-libidn --without-zlib --without-ssl
 make
 sudo make install

After make install the static library can be found in /usr/local/lib/libcurl.a, copy that file to your curl folder 
and rename it to ./libcurl.i386.a

Build the powerpc target by entering:

 env CFLAGS="-m32 -arch ppc" LDFLAGS="-m32 -arch ppc" ./configure --disable-ldap --build=powerpc-unknown-linux-gnu --without-libidn --without-zlib --without-ssl
 make
 sudo make install

After make install the static library can be found in /usr/local/lib/libcurl.a, copy that file to your curl folder 
and rename it to ./libcurl.ppc.a

Finally call lipo to combine these two into a fat binary by entering this in your curl folder.

 lipo -arch i386 libcurl.i386.a -arch ppc libcurl.ppc.a -create -output libcurl.a

The filesize of the newly created libcurl.a should be around the sum of the single ppc and i386 libs, you can double-check that.
Copy the libcurl.a into your darkmod_src/macosx/libcurl/ and you're done with this step.
